---
import { getCollection } from 'astro:content'
import CardDescription from '../CardDescription.astro'
import { getTranslation } from '../../i18n'
import { DEFAULT_LOCALE, type Locale } from '../../i18n/locales'

const locale = (Astro.currentLocale ?? DEFAULT_LOCALE) as Locale
const t = getTranslation(locale)

const items = await getCollection('introduction', (entry) => entry.id.startsWith(`${locale}/`))
---

<section id='introduction' class='grid gap-8 overflow-hidden py-16'>
  {
    items.map((item, index) => (
      <CardDescription item={item} index={index} readMoreLabel={t.common.readMore} />
    ))
  }
</section>
