---
import { getTranslation } from '../i18n'
import { DEFAULT_LOCALE, type Locale } from '../i18n/locales'

const { page } = Astro.props

// locale
const locale = (Astro.currentLocale ?? DEFAULT_LOCALE) as Locale
const t = getTranslation(locale)

// base (/recipes)
const BASE = (import.meta.env.BASE_URL ?? '/').replace(/\/$/, '')

// locale prefix
const prefix = locale === DEFAULT_LOCALE ? '' : `/${locale}`

// build URLs
const prevHref = `${BASE}${prefix}/recipe/list/${page.currentPage - 1}`
const nextHref = `${BASE}${prefix}/recipe/list/${page.currentPage + 1}`
---

<div class='flex items-center justify-between'>
  {
    page.start > 0 && (
      <a
        href={prevHref}
        class='rounded-xl bg-yellow-900 px-6 py-3 text-xl text-white opacity-70 duration-300 hover:opacity-100'
      >
        {t.pagination.previous}
      </a>
    )
  }

  <div
    class='rounded-xl bg-yellow-600 px-6 py-3 text-xl text-white opacity-70 duration-300 hover:opacity-100'
  >
    {t.pagination.page}
    {page.currentPage}
  </div>

  {
    page.currentPage < page.lastPage && (
      <a
        href={nextHref}
        class='rounded-xl bg-yellow-900 px-6 py-3 text-xl text-white opacity-70 duration-300 hover:opacity-100'
      >
        {t.pagination.next}
      </a>
    )
  }
</div>
